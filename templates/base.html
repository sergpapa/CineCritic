<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
            integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" 
            integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css">


        <title>Document</title>
    </head>
    <body>
    <div class="container-fluid">
        <div class="row">
        <div class="nav-bar col-2 position-fixed nav-side d-flex flex-column">
            <h1><a href="{{ url_for('get_movies') }}">Logo</a></h1>
            <p>Test Subhead</p>
        </div>
        <div class="col-10 offset-2">
            <div class="container-fluid p-0">
            <header class="row">
                <div class="col text-center my-auto">
                    <h1>Cine Critic</h1>
                    <p class="text-bez font-italic">The house of tastefull cinema critique!</p>
                </div>
            </header>
            <div class="row">
                <section class="col text-center">
                    <!-- flash messages -->
                    {% with messages = get_flashed_messages() %}
                        {% if messages %}
                            {% for message in messages %}
                                <div class="row">
                                    <h4 class="col">{{ message }}</h4>
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
                </section>
            </div>
            <div class="row">
                {% block content %}
                {% endblock %}
            </div>
            <div class="row">
                <div class="col text-center">
                    <h5>Movie List</h5>
                </div>
            </div>
            <div class="row ml-4">
                {% for movie in movies %}
                    <div class="col footer-margin">
                        <div class="container p-2 text-center">
                            <div class="row justify-content-center">
                                <div class="card text-center">
                                    {% if movie.poster != "N/A" %}
                                        <img src="{{ movie.poster }}" class="card-img-top" alt="Poster of {{ movie.Title }}">
                                    {% else %}
                                        <!-- Fallback image in case poster doesn't exist -->
                                        <img src="https://placehold.co/300x400" class="card-img-top" alt="Fallback Poster">
                                    {% endif %}
                                    <div class="card-body">
                                        <h5 class="card-title">{{ movie.title }}</h5>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
            <footer class="row">
                <div class="col text-center font-italic my-auto">
                    <p class="m-0">&copy; Copyright</p>
                    <p class="m-0">Sergios Papastergiou</p>
                </div>
            </footer> 
            </div>
        </div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" 
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    </body>
</html>